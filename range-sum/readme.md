# Сумма членов арифметической прогрессии

Эта задача предназначена для знакомства с тестирующей системой.
Перед тем как приступить настройте окружение согласно [инструкции](../docs/SETUP.md).
Вам предстоит реализовать функцию `RangeSum`,
которая находит сумму членов арифметической прогрессии:
* $`from`$ - первый член прогрессии
* $`step`$ - шаг прогрессии ($`step > 0`$)
* $`to`$ - считаем сумму членов прогрессии, меньших данного чила
* если $`from >= to`$, то ответ 0

Вы можете увидеть в файле `range_sum.cpp` неэффективную реализацию. Вам нужно поменять реализацию так,
чтобы время выполнения каждого бенчмарка не превышало 100 нс.

## Структура репозитория

В каждой задаче обычно есть следующие файлы:

* `readme.md` --- условие задачи
* `CMakeLists.txt` --- cmake-файл для сборки задачи.
* `test.cpp` --- тесты для задачи.
* `run.cpp` --- бенчмарки (описание далее).
* `*.h, *.cpp` --- некоторые файлы, в которых вы должны реализовать то, что требуется в условии задачи.

Вам разрешено изменять только файлы, содержащие решение задачи,
изменения в иных файлах будут игнорироваться при тестировании вашего решения.
Когда вы делаете посылку, система запускает `test.cpp` и `run.cpp`.
В случае успешного завершения задача вам засчитывается.

Обратите внимание, что в некоторых задачах `test.cpp` может либо вообще не содержать тестов,
либо содержать не все тесты, которые будут на сервере --- об этом всегда сообщается в условии задачи.
В этом случае вы сами должны написать тесты и протестировать всю реализованную функциональность.

## Сборка

Для новичков мы рекомендуем использовать Visual Studio Code.
Здесь приведены инструкции для сборки из консоли.

```bash
# Создадим директорию со сборкой в корне локального репозитория.
$ mkdir build
$ cd build
```

Запустим cmake:

 * На маке
```bash
$ env CC=gcc-<версия gcc> CXX=g++-<версия gcc> cmake ..
```

 * На линуксе
```bash
$ cmake ..
```

При этом будет выведена некоторая служебная информация, в частности используемый компилятор.
Для корректной сборки необходим `g++` версии не ниже 13 или `clang++` версии не ниже 19.

Наконец, соберем задачу `range-sum`:
```bash
$ make test_range_sum
```

Все задачи включены в один проект, поэтому если вы попытаетесь собрать проект целиком,
могут возникнуть ошибки.
При сборке нужно указывать конкретный исполняемый файл, который вам нужен.

Теперь в `build` есть исполняемый файл `test_range_sum`, который и нужно запустить.

Обратите внимание, что помимо этого на сервере также осуществляется
тестирование с включенными санитайзерами, которые проверяют наличие неопределенного поведения,
некорректной работы с памятью и ошибки при работе с потоками.

Осуществить такую сборку просто:

```bash
$ mkdir build-Asan && cd build-Asan
$ cmake -DCMAKE_BUILD_TYPE=Asan ..
$ make test_range_sum
```

Для ThreadSanitizer'a аналогично используйте сборку Tsan.

## Тесты и бенчмарки

Обычно в задачах есть юнит-тесты и бенчмарки, часто также присутствует
и какое-то базовое решение задачи, которое может проходить тесты, а
может и нет. В любом случае ваше решение должно проходить тесты.

На бенчмарки накладываются ограничения по времени, в
которые базовое решение не будет укладываться.
Ваше решение должно укладываться в эти ограничения,
бенчмарки запускаются только в RelWithDebInfo сборке.

Для сборки бенчмарка используйте

```bash
$ make bench_range_sum
``` 
